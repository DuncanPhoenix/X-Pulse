<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/Stylesheet1.css">
	  <link rel="stylesheet" type="text/css" href="Stylesheet1.css">
 <script src="JS/Script1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
  <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>X-PULSE</title>
	    <link rel="icon" type="image/ico" href="images/logo.gif" />
	    <script>
        $(document).ready(function () {
            $("button").click(function () {
                $("#ooo").attr("href", function (i, origValue) {
                    return origValue + "/jquery/";
                });
            });
        });
    
   function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      includedLanguages: 'en,de,hi,ar,fr,es', // Customize this list
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
      autoDisplay: false
    }, 'google_translate_element');
  }
    </script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
 </head>
<body style="height:1900px">
  <nav class="navbar navbar-clean">
  <div class="container-fluid"> 
  <div class="navbar-header">
	 <a class="navbar-brand"><img src="images/logo.gif" class="w3-image" style="float:left; margin:"0px; width="50" height="0" href="#"><a class="navbar-brand" style="text-align:center; color:black; text-shadow: 1px 1px 2px rgb(255, 255, 255), 0 0 25px rgb(96, 12, 98), 0 0 5px rgb(255, 255, 255);" href="index.html"><strong>X-PULSE</strong></a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
               </div>
                  <ul class="nav navbar-nav topnav" style=" padding-left:100px; text-shadow: 1px 1px 2px rgb(0, 0, 0), 0 0 25px rgb(96, 12, 98), 0 0 5px rgb(208, 220, 74);"> 
                   <li class="home"><a href="index.html"><strong>About us</strong></a></li>
                        <li><a href="projects.html"><strong>Projects</strong></a></li>
                        <li><a href="gallery.html"><strong>Gallery</strong></a></li>
                        <li><a href="funds&synergies.html"><strong>Funds&Synergies</strong></a></li>
                        <li><a href="history.html"><strong>History</strong></span></a>          
						<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><strong>Archive</strong><span class="caret"></span></a>
                             <ul class="dropdown-menu" style="background-color: #2894FF;">
				        	  <li><a href="archive2025.html">2025</a></li>
                              <li><a href="archive2024.html">2024</a></li>
							   <li><a href="archive2023.html">2023</a></li>       
                      </li>
                    </ul>
                  </li>                  
                        <li><a href="references.html"><strong>References</strong></a></li>
                        <li><a href="contact.html"><strong>Contact</strong></a></li>
                    </ul>
                     <ul class="nav navbar-nav topnav navbar-right" style="margin:10px;">
                      <li>
                 
                 
         <div id="google_translate_element"></div>
                    </li></ul>
                     <form class="navbar-form navbar-right" action="/action_page.php">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search" name="search">
                            <div class="input-group-btn">
                                <button class="btn btn-default" type="submit">
                                    <i class="glyphicon glyphicon-search"></i>
                                </button>
                            </div>
                        </div>
                     </form>
                </div>
            </nav>
			   <div class="magic"></div>
</head>
 <img src="images/j.png" alt="Lights" class="w3-image" width="50%" height="50%" style="margin-top:-24px;float:left; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);"><img src="images/j.png" alt="Lights" class="w3-image" width="50%" height="50%" style="margin-top:-24px;float:left; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
  <head>
    <style>
     body {
  background-color: white;
  color: black;
   }
    .dark-mode {
    background-color: black;
    color: white;
   }
    </style>
  </head>
     
    <script type="module">
      import * as THREE from 'https://cdn.skypack.dev/three@0.136.0/build/three.module.js';
      import { OrbitControls } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/controls/OrbitControls.js';
      import { EffectComposer } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/EffectComposer.js';
      import { RenderPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/RenderPass.js';
      import { UnrealBloomPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/UnrealBloomPass.js';
      import { AfterimagePass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/AfterimagePass.js';
      import { ShaderPass } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/postprocessing/ShaderPass.js';
      import { RGBShiftShader } from 'https://cdn.skypack.dev/three@0.136.0/examples/jsm/shaders/RGBShiftShader.js';
      import * as dat from 'https://cdn.skypack.dev/dat.gui';

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 120;
      camera.lookAt(0, 0, 0);

      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      const controls = new OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.025;
      controls.enableZoom = true;
      controls.minDistance = 10;
      controls.maxDistance = 500;
      const composer = new EffectComposer(renderer);
      composer.addPass(new RenderPass(scene, camera));
      const afterimagePass = new AfterimagePass(0.89);
      composer.addPass(afterimagePass);
      const bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 3, 0.4, 0.5);
      composer.addPass(bloomPass);

      const mouse = new THREE.Vector2(0.5, 0.5);
      window.addEventListener('mousemove', (e) => {
        mouse.x = e.clientX / window.innerWidth;
        mouse.y = 1.0 - e.clientY / window.innerHeight;
      });
      const fluidSettings = {
        fluidEnabled: true
      };
      const fluidShader = {
        uniforms: {
          tDiffuse: { value: null },
          mouse: { value: new THREE.Vector2(0.5, 0.5) },
          time: { value: 0.0 },
          resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }
        },
        vertexShader: `
          varying vec2 vUv;
          void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
          }
        `,
        fragmentShader: `
          uniform sampler2D tDiffuse;
          uniform vec2 mouse;
          uniform float time;
          uniform vec2 resolution;
          varying vec2 vUv;
          void main() {
            vec2 uv = vUv;
            
            // Distance from mouse
            vec2 mouseUV = mouse;
            vec2 delta = uv - mouseUV;
            float dist = length(delta);

            // Fluid distortion
            float strength = 0.3;
            float falloff = smoothstep(0.02, 0.2, dist); // 0 à 1 selon la distance
            vec2 offset = normalize(delta) * strength * exp(-dist * 20.0) * falloff;

            // Time-based ripple
            float ripple = -sin(dist * 10.0 - time * 3.0) * 0.05;
            offset += delta * ripple;

            vec4 color = texture2D(tDiffuse, uv + offset);
            gl_FragColor = color;
          }
        `
      };

      const RadialVignetteShader = {
        uniforms: {
          tDiffuse: { value: null },
          resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
          vignetteIntensity: { value: 0.3 },
          vignetteSmoothness: { value: 0.5 },
          blurStrength: { value: 0.15 },
          blurSamples: { value: 64 }
        },
        vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
        fragmentShader: `
          uniform sampler2D tDiffuse;
          uniform vec2 resolution;
          uniform float vignetteIntensity;
          uniform float vignetteSmoothness;
          uniform float blurStrength;
          uniform int blurSamples;
          varying vec2 vUv;
          void main() {
            vec2 uv = vUv;
            vec2 center = vec2(0.5, 0.5);
            vec2 delta = uv - center;
            float dist = length(delta);
            vec4 color = vec4(0.0);
            float total = 0.0;
            for (int i = 0; i < 256; i++) {
              if(i >= blurSamples) break;
              float t = float(i) / float(blurSamples - 1);
              vec2 sampleUv = center + delta * (1.0 + t * blurStrength);
              color += texture2D(tDiffuse, sampleUv);
              total += 1.0;
            }
            color /= total;
            float vignette = smoothstep(0.1, vignetteSmoothness, dist);
            color.rgb *= mix(1.0, 1.0 - vignetteIntensity, vignette);
            gl_FragColor = color;
          }
        `
      };

      const vignettePass = new ShaderPass(RadialVignetteShader);
      composer.addPass(vignettePass);
      const rgbShiftPass = new ShaderPass(RGBShiftShader);
      rgbShiftPass.uniforms['amount'].value = 0.0015;
      composer.addPass(rgbShiftPass);

      const dotShader = {
        uniforms: {
          tDiffuse: { value: null },
          uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
          uScale: { value: 10.0 } // Spacing
        },
        vertexShader: `
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,
        fragmentShader: `
        uniform sampler2D tDiffuse;
        uniform vec2 uResolution;
        uniform float uScale;
        varying vec2 vUv;

        void main() {
          vec2 uv = gl_FragCoord.xy / uScale;
          vec2 grid = fract(uv);
          float dist = length(grid - 0.05);
          float dot = smoothstep(0.05, 0.2, dist); // Dot Size
          vec4 sceneColor = texture2D(tDiffuse, vUv);
          vec3 finalColor = mix(sceneColor.rgb, vec3(0.0), dot * 0.3); // Dark dot
          gl_FragColor = vec4(finalColor, sceneColor.a);
        }
      `
      };
      const dotPass = new ShaderPass(dotShader);
      composer.addPass(dotPass);
      const fluidPass = new ShaderPass(fluidShader);
      composer.addPass(fluidPass);
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);

      let colors = [];
      async function fetchRandomPalette() {
        try {
          const proxy = 'https://cors-anywhere.herokuapp.com/';
          const url = 'https://www.thecolorapi.com/scheme?mode=random&count=5';
          const response = await fetch(proxy + url);
          if (!response.ok) throw new Error(`Erreur HTTP: ${response.status}`);
          const data = await response.json();
          colors = data.colors.map(c => parseInt(c.hex.value.replace('#', '0x')));
          console.log('Couleurs récupérées:', colors);
          generateParticles();
        } catch (error) {
          console.error('Erreur lors de la récupération de la palette:', error);
          colors = [0xff0000, 0x00ff00, 0x0000ff, 0xffff00, 0xff00ff];
          generateParticles();
        }
      }

      const particles = [];
      const particleSettings = { scale: 1, damping: 0.98 };

      function generateParticles(count = 1200) {
        if (colors.length === 0) return;
        particles.forEach(p => scene.remove(p));
        particles.length = 0;

        const scale = particleSettings.scale;

        for (let i = 0; i < count; i++) {
          const geometry = new THREE.SphereGeometry((Math.random() * 2 + 0.5) * scale, 8, 8);
          const material = new THREE.MeshStandardMaterial({
            color: colors[Math.floor(Math.random() * colors.length)],
            emissive: colors[Math.floor(Math.random() * colors.length)],
            emissiveIntensity: 0.5
          });
          const sphere = new THREE.Mesh(geometry, material);
          sphere.position.set(
            (Math.random() - 0.5) * 10,
            (Math.random() - 0.5) * 10,
            (Math.random() - 0.5) * 10
          );
          const theta = Math.random() * Math.PI * 2;
          const phi = Math.acos(2 * Math.random() - 1);
          const r = Math.random();
          const x = r * Math.sin(phi) * Math.cos(theta);
          const y = r * Math.sin(phi) * Math.sin(theta);
          const z = r * Math.cos(phi);
          const direction = new THREE.Vector3(x, y, z).normalize().multiplyScalar(2);
          sphere.velocity = direction;
          scene.add(sphere);
          particles.push(sphere);
        }
      }

      const gui = new dat.GUI();
      const particleFolder = gui.addFolder('Particles');
      particleFolder.add(particleSettings, 'scale', 0.1, 5).name('Sphere Size').onChange(value => {
        particles.forEach(p => p.scale.set(value, value, value));
      });
      particleFolder.add(particleSettings, 'damping', 0.8, 0.98).name('Damping');

      const waveFolder = gui.addFolder('Sinusoidal Wave');
      const waveSettings = { amplitude: 2, frequency: 0.5 };
      waveFolder.add(waveSettings, 'amplitude', 0, 20).name('Amplitude');
      waveFolder.add(waveSettings, 'frequency', 0.1, 2).name('Frequency');

      const vignetteFolder = gui.addFolder('Vignette + Blur');
      vignetteFolder.add(vignettePass.uniforms.vignetteIntensity, 'value', 0.0, 2.0).name('Vignette Intensity');
      vignetteFolder.add(vignettePass.uniforms.vignetteSmoothness, 'value', 0.2, 1.5).name('Vignette Smooth');
      vignetteFolder.add(vignettePass.uniforms.blurStrength, 'value', 0.0, 0.25, 0.01).name('Blur Strength');
      vignetteFolder.add(vignettePass.uniforms.blurSamples, 'value', 8, 128, 1).name('Blur Samples');

      const bloomFolder = gui.addFolder('Bloom');
      const bloomSettings = {
        strength: bloomPass.strength,
        radius: bloomPass.radius,
        threshold: bloomPass.threshold
      };
      bloomFolder.add(bloomSettings, 'strength', 0, 3).name('Strength').onChange(v => bloomPass.strength = v);
      bloomFolder.add(bloomSettings, 'radius', 0, 1).name('Radius').onChange(v => bloomPass.radius = v);
      bloomFolder.add(bloomSettings, 'threshold', 0, 1).name('Threshold').onChange(v => bloomPass.threshold = v);

      const afterimageFolder = gui.addFolder('Afterimage');
      const afterimageSettings = { damp: afterimagePass.uniforms['damp'].value };
      afterimageFolder.add(afterimageSettings, 'damp', 0.5, 0.8).name('Damping').onChange(v => {
        afterimagePass.uniforms['damp'].value = v;
      });

      const rgbFolder = gui.addFolder('RGB Shift');
      const rgbSettings = {
        amount: rgbShiftPass.uniforms['amount'].value
      };
      rgbFolder.add(rgbSettings, 'amount', -0.02, 0.02).name('Amount').onChange(v => {
        rgbShiftPass.uniforms['amount'].value = v;
      });
      gui.add(fluidSettings, 'fluidEnabled').name('Fluid Shader');

      const particleControls = {
        regenerate: () => {
          fetchRandomPalette();
          generateParticles(); 
        }
      };
      gui.add(particleControls, 'regenerate').name('Restart');

      const displayParams = {
        fullscreen: () => {
          if (!document.fullscreenElement) {
            document.body.requestFullscreen(); 
          } else {
            document.exitFullscreen();
          }
        }
      };
      gui.add(displayParams, 'fullscreen').name('Fullscreen');

      function animate(time) {
        requestAnimationFrame(animate);
        controls.update();
        particles.forEach((p, i) => {
          p.position.add(p.velocity);
          p.velocity.multiplyScalar(particleSettings.damping);
          const t = time * 0.001 + i * 0.1;
          const amplitude = waveSettings.amplitude;
          const frequency = waveSettings.frequency;
          p.position.y += Math.sin(t * frequency) * amplitude * 0.1;
          p.position.x += Math.cos(t * frequency) * amplitude * 0.1;
          p.position.z += Math.sin(t * frequency) * amplitude * 0.1;
        });
        fluidPass.enabled = fluidSettings.fluidEnabled;
        fluidPass.uniforms.mouse.value.copy(mouse);
        fluidPass.uniforms.time.value = performance.now() * 0.001;

        composer.render();
      }
      animate(0);

      window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
        composer.setSize(window.innerWidth, window.innerHeight);
        dotPass.uniforms.uResolution.value.set(window.innerWidth, window.innerHeight);
      });
      fetchRandomPalette();
    </script>
  <br>
  <div class="w3-container w3-margin ">
  <div class="container-fluid text-center">    
  <div class="row content">
    <div class="col-sm-2 sidenav">	
	<div class="box" style="margin-top:20px; ">
	<div id="myDIV" style="content-align: center ">
	<img src="images/logo.gif" style="width:100%; height: 100%">
	</div>
	<hr>
	<h3>Motivation</h3>
    <br>
    <img src="images/div.png" alt="first" style="width:100%;">
    <br>
    <p></p>
    <br>
    <p style="text-align: justify; padding:10px;">
Modern	4th-generation	X-ray	facilities	provide	unprecedented	opportunities	for	probing	
ultrafast	dynamics.	Their	exceptionally	high	photon	flux	per	pulse (109 - 1012 photons	per	
pulse),	combined	with	ultra-short	pulse	duration (~10	fs	 and	~100	ps at XFEL’s	and	
synchrotrons)	with	pulse megahertz	repetition	rates,	enables	ultra-fast	single-shot/single	
exposure imaging	of	stochastic	phenomena	in	matter.
	 </p>
	</div>
	</div>
  
  <div class="col-sm-8 text-left"> 
  <br>
  <div class="polaroid">              
  <div class="container">
  <div class="text" style="margin-right:220px;  text-align: center; height:800px;">
  <br>
     <h2>X-Pulse</h2>
     <br>
     <h3>X-ray Probing of Ultrafast Events</h3>
     <br>
     <p>Our mission is to push boundaries of advanced X-ray pulse resolved imaging at large scale X-ray infrastructures</p>
               
   </div>
   </div>
  </div>
  <p></p>
  </div>
   <div class="col-sm-2 sidenav">
   	<div class="box" style="margin-top:20px;">
	<h3>Follow <strong>X - Pulse</strong></h3>
	
	<p>on social media</p>
		<hr>
		<br>
		 <p>
		 <a href="https://facebook.com" target="_blank"><img src="images/face.jpg" alt="HTML5 Icon" style="width:32px;height:32px;"/></a>
         <a href="https://instagram.com/" target="_blank"><img src="images/insta.jpg" alt="HTML5 Icon" style="width:32px;height:32px;"/></a>
	   	</p>
		<br>
	    <img src="images/gif.gif" alt="HTML5 Icon" style="width:200px; height:300px;"/>
        <br>
		 <button class="btn1" onclick="myFunction()" style="margin-top: 5px"><p style="text-align:center; text-shadow: 1px 1px 2px rgb(0, 0, 0), 0 0 25px rgb(96, 12, 98), 0 0 5px rgb(208, 220, 74);";>DarkMatter</p></button>
		<br>
	</div>
	<div class="box">
	<br>
	<h3><b>X-ray Probing of Ultrafast Events</b></h3>
	<hr>
	<p></p>	
		<br>
		<img src="images/f1.gif" style="width:200px; height:150px;"/>
     <br>
	</div>
   </div>
  <div class="container  style="color: rgba(0, 0, 0, 0.19);">
  <p style="text-align:center;">  </p>
  </div>
  </div>
  </div>
  
   </div>
     <div class="footer">
     <br>
      <br>

<script>
function myFunction() {
   var element = document.body;
   element.classList.toggle("dark-mode");
}
</script>
  <h6 class="w3-small" style="text-align:center;">X - Pulse</p>
  <h6 class="w3-small" style="text-align:center;">email.com <a href="https://x-pulse.eu">https://x-pulse.eu</a> tel.: +49 (0)40 8998-6348</p>
  </div>
</body>

</html>













